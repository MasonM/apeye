<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>ExploRPC</title>
		<meta name="description" content="A handy widget for testing RPC-based APIs">
		<meta name="author" content="Mason Malone">

		<meta name="viewport" content="width=device-width">
		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" href="css/base.css">
		<link rel="stylesheet" href="css/humanity/jquery-ui-1.8.23.custom.css">
		<link rel="stylesheet/less" href="src/explorpc.less">
		<link rel="stylesheet" href="src/codemirror/lib/codemirror.css">

		<script src="js/jquery-1.8.1.min.js"></script>
		<script src="js/jquery-ui-1.8.23.custom.min.js"></script>
		<script src="js/base64.min.js"></script>
		<script src="js/less-1.3.1.min.js"></script>

		<script src="src/codemirror/lib/codemirror.js"></script>
		<script src="src/codemirror/mode/javascript/javascript.js"></script>
		<script src="src/codemirror/mode/xml/xml.js"></script>
		<script src="src/codemirror/mode/http/http.js"></script>
		<script src="src/codemirror/lib/util/formatting.js"></script>
		<script src="src/codemirror/lib/util/multiplex.js"></script>
		<script src="src/explorpc.js"></script>

		<script type="text/javascript">
			$(function() {
				document.domain = "explorpc.org";
				$('#explorpc-demo').explorpc({
					'autoPrettyPrint': true,
					'subdomainTunneling': true,
					'autocompleteSource': 'http://api.explorpc.org/soap?wsdl',
					'permalinkHandler': function(sending, dataOrId, successCallback) {
						var endpoint = "http://api.explorpc.org/pastebin";
						this.tunnelRequest(endpoint, function(ajax) {
							ajax({
								url: endpoint,
								type: sending ? "POST" : "GET",
								contentType: "text/plain",
								data: sending ? dataOrId : { id : dataOrId }
							}).done(function(data) {
								if (sending) {
									var link = 'http://explorpc.org/#id=' + data;
									successCallback(link, link);
								} else {
									successCallback(data);
								}
							});
						});
					}
				});

				$(window).on('hashchange', function() {
					$('#explorpc-demo').data('explorpc').setFieldsFromString(window.location.hash.substring(1)); 
				}).trigger('hashchange');
			});
		</script>
		<style type="text/css">
			.explorpc {
				font-family: Droid Sans, Helvetica, sans-serif;
				width: 600px;
				height: 440px;
			}
		</style>
	</head>

	<body>
		<h1>ExploRPC</h1>

		<h3>Examples</h3>
		<ul class="examples">
			<li><a href='#method=add&type=soap11&url=api.explorpc.org%2Fsoap&body=%3Cadd%20xlmns%3D%22http%3A%2F%2Fapi.explorpc.org%2Fsoap%22%3E%0A%20%20%20%3Ca%3E10%3C%2Fa%3E%0A%20%20%20%3Cb%3E20%3C%2Fb%3E%0A%3C%2Fadd%3E'>Add 10 and 20 with SOAP 1.1</a></li>
			<li><a href='#method=add&type=json-rpc&url=api.explorpc.org%2Fjson-rpc&body=%5B10%2C20%5D'>Add 10 and 20 with JSON-RPC</a></li>
			<li><a href='#method=add&type=xml-rpc&url=api.explorpc.org%2Fxml-rpc&body=%3Cparams%3E%0A%20%20%20%3Cparam%3E%3Cvalue%3E%3Cint%3E1%3C%2Fint%3E%3C%2Fvalue%3E%3C%2Fparam%3E%0A%20%20%20%3Cparam%3E%3Cvalue%3E%3Cint%3E4%3C%2Fint%3E%3C%2Fvalue%3E%3C%2Fparam%3E%0A%3C%2Fparams%3E'>Add 10 and 20 with XML-RPC</a></li>
		</ul>

		<div id="explorpc-demo"></div>
	</body>
</html>
