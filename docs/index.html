<!doctype html>
<html class="no-js" lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>ExploRPC</title>
		<meta name="description" content="A widget for issuing HTTP requests, designed to help document and test RPC-based APIs">
		<meta name="author" content="Mason Malone">
		<meta name="viewport" content="width=device-width">

		<link rel="stylesheet" href="css/bootswatch_united.min.css">
		<link rel="stylesheet" href="css/jquery.tocify.css">
		<link rel="stylesheet" href="css/prettify.css">
		<link rel="stylesheet" href="css/styles.css">
		<link rel="stylesheet" href="css/humanity/jquery-ui-1.8.23.custom.css">

		<link rel="stylesheet/less" href="src/explorpc.less">
		<link rel="stylesheet" href="src/codemirror/lib/codemirror.css">

		<script src="js/jquery-1.8.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/prettify.js"></script>
		<script src="js/base64.min.js"></script>
		<script src="js/less-1.3.1.min.js"></script>
		<script src="js/jquery-ui-1.8.23.custom.min.js"></script>
		<script src="js/jquery.tocify.min.js"></script>

		<script src="src/codemirror/lib/codemirror.js"></script>
		<script src="src/codemirror/mode/javascript/javascript.js"></script>
		<script src="src/codemirror/mode/xml/xml.js"></script>
		<script src="src/codemirror/mode/http/http.js"></script>
		<script src="src/codemirror/lib/util/formatting.js"></script>
		<script src="src/codemirror/lib/util/multiplex.js"></script>
		<script src="src/explorpc.js"></script>

		<style type="text/css">
			.explorpc {
				width: 800px;
				height: 400px;
				margin: 0 auto;
			}
			.explorpc .explorpc-id {
				/* hide the "id" field to keep things simple for the demo */
				display: none !important;
			}
		</style>
		<script type="text/javascript">
			// Must define document.domain for tunneling requests to api.explorpc.org
			document.domain = "explorpc.org";

			$(function() {
				$('#explorpc-demo').explorpc({
					// Auto-fill the fields with a sample request
					'type': 'json-rpc',
					'method': 'add',
					'url': 'api.explorpc.org/json-rpc',
					'body': '[10,20]',
					'httpMethod': 'post',

					// Options
					'autoPrettyPrint': true,
					'subdomainTunneling': true,
					'autocompleteSource': 'http://api.explorpc.org/soap?wsdl',
					'permalinkHandler': function(sending, dataOrId, successCallback) {
						var endpoint = "http://api.explorpc.org/pastebin";
						this.tunnelRequest(endpoint, function(ajax) {
							ajax({
								url: endpoint,
								type: sending ? "POST" : "GET",
								contentType: "text/plain",
								data: sending ? dataOrId : { id : dataOrId }
							}).done(function(data) {
								if (sending) {
									var link = 'http://explorpc.org/#permalinkId=' + data;
									successCallback(link, link);
								} else {
									successCallback(data);
								}
							});
						});
					}
				});

				// this updates all the fields in the demo with the fields set ih the hash part of the URL
				$(window).on('hashchange', function() {
					$('#explorpc-demo').data('explorpc').setFieldsFromString(window.location.hash.substring(1)); 
				}).trigger('hashchange');

				$("#toc").tocify({
					selectors: "h2, h3",
					scrollTo: 60,
					highlightOffset: 60,
					extendPage: true
				});
				prettyPrint();
			});
		</script>
	</head>

	<body>
		<a href="https://bitbucket.org/MasonM/explorpc" style="position:absolute;z-index:10000;top:0;right:0;">
			<img src="//bitbucket.org/zgramana/bitbucket-ribbons/raw/988dffc5fbeb/png/bitbucket-ribbon-orange.png" />
		</a>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="#">ExploRPC</a>

					<div class="nav-collapse">
						<ul class="nav">
							<li class="active"><a href="/">Home</a></li>
							<li><a href="customDownload.html">Custom Build</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span3 tocify">
					<div id="toc"></div>
				</div>
				<div class="span9">
					<h2 class="overview">Overview</h2>
					<div class="hero-unit">
						<h1>ExploRPC</h1>
						<p>
							ExploRPC is a widget for issuing HTTP requests, designed to help document and test RPC-based APIs. Unlike <a href="http://hurl.it">hurl</a> and <a href="http://apigee.com">apigee</a>, requests are handled entirely by the client &ndash; no server-side proxy is needed. Try it out below!
						</p>
						<div id="explorpc-demo"></div>
						<br/>
						<p>
							The project is hosted on <a href="http://bitbucket.org" target="_blank" class="projectLinks">Bitbucket</a> and is available for use under the <a href="http://bitbucket.org/MasonM/explorpc/src/tip/LICENSE" target="_blank" class="projectLinks">MIT software license</a>. You can report bugs and discuss features on the <a href="http://bitbucket.org/MasonM/explorpc/issues" target="_blank">issues page</a>.
						</p>
						<p><a class="btn btn-primary btn-large" href="https://bitbucket.org/MasonM/explorpc/" target="_blank">Fork on Bitbucket &raquo;</a></p>
					</div>

					<h2>Notable Features</h2>
					<div class="well">
						<ul>
							<li>Supports SOAP 1.1, SOAP 1.2, XML-RPC, and JSON-RPC 2.0</li>
							<li>Easily integrated into Doxygen-generated API documentation</li>
							<li>Powered by <a href="http://codemirror.com">CodeMirror</a>, with automatic syntax highlighing and pretty-printing for requests and responses</li>
							<li><a href="#subdomain">Circumvents the same-origin policy for subdomains by automatically tunneling requests</a></li>
							<li><a href="#permalinks">Can generate permanent links to snapshot a request and response</a></li>
							<li><a href="#autcompletion">Autocompletion support for method names</a></li>
						</ul>
					</div>

					<h2>Browser Support</h2>
					<p class="well">
						Tested in Firefox 17, Chrome 20, and IE 8-9.
					</p>

					<h2>Getting Started</h2>
					<p><h3><a href="customDownload.html">Custom Download</h3></a></p>
					<p class="well">
						<span class="note"><strong>Note: </strong> All of the plugin files are in the <code>src</code> directory (this includes both the JavaScript and CSS files). If you want to see an example page with all of the files included, look in the <code>demos</code> directory.
						</span>
					</p>

					<h3>JavaScript</h3>
					<div class="well">
					To initialize ExploRPC, call the <code>exploprc</code> method on a container element (e.g. <code>&lt;div class="explorpc-container"&gt;&lt;/div&gt;</code>)
					<pre class="prettyprint">
$('.explorpc-container').explorpc({
	//options
});</pre>
					</div>

					<h3>CSS</h3>
					<div class="well">
						The only CSS properties that must be defined on the ExploRPC container are <code>height</code> and <code>width</code>
						<pre class="prettyprint">
.explorpc-container {
	height: 400px;
	width: 800px;
}</pre>
					</div>

					<h2>Examples</h2>
					<div class="well">
						<ul class="examples">
							<li><a href='#method=add&type=soap11&url=api.explorpc.org%2Fsoap&body=%3Cadd%20xlmns%3D%22http%3A%2F%2Fapi.explorpc.org%2Fsoap%22%3E%0A%20%20%20%3Ca%3E10%3C%2Fa%3E%0A%20%20%20%3Cb%3E20%3C%2Fb%3E%0A%3C%2Fadd%3E'>Add 10 and 20 with SOAP 1.1</a></li>
							<li><a href='#method=add&type=json-rpc&url=api.explorpc.org%2Fjson-rpc&body=%5B10%2C20%5D'>Add 10 and 20 with JSON-RPC</a></li>
							<li><a href='#method=add&type=xml-rpc&url=api.explorpc.org%2Fxml-rpc&body=%3Cparams%3E%0A%20%20%20%3Cparam%3E%3Cvalue%3E%3Cint%3E1%3C%2Fint%3E%3C%2Fvalue%3E%3C%2Fparam%3E%0A%20%20%20%3Cparam%3E%3Cvalue%3E%3Cint%3E4%3C%2Fint%3E%3C%2Fvalue%3E%3C%2Fparam%3E%0A%3C%2Fparams%3E'>Add 10 and 20 with XML-RPC</a></li>
						</ul>
					</div>

					<h2>Options</h2>
					<h3>Overview</h3>
					<table class="table table-striped table-bordered table-condensed">
						<tr>
							<th>Name</th>
							<th>Type</th>
							<th>Default</th>
							<th>Parameters</th>
						</tr>
						<tr>
							<td class="optionName" title="Name" data-content="Enter Option Description Here">
								<a href="#">autcompleteSource</a>
							</td>
							<td>null | string | array | function</td>
							<td>null</td>
							<td>See <a href="#autocompletion">Autocompletion</a></td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">permalinkHandler</a>
							</td>
							<td>null | function</td>
							<td>null</td>
							<td>See <a href="#permalinks">Permanent Links</a></td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">indent</a>
							</td>
							<td>integer</td>
							<td>3</td>
							<td>Indentation used by CodeMirror for the request body.</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">timeout</a>
							</td>
							<td>integer</td>
							<td>5000</td>
							<td>Timeout for requests in miliseconds.</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">autoPrettyPrint</a>
							</td>
							<td>boolean</td>
							<td>false</td>
							<td>If true, responses will be automatically pretty-printed. If false, a "Pretty Print" button will be shown in the Response header.</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">subdomainTunneling</a>
							</td>
							<td>boolean</td>
							<td>false</td>
							<td>See <a href="#tunneling">Subdomain Tunneling</a></td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">tunnelFilepath</a>
							</td>
							<td>string</td>
							<td>"/tunnel.html"</td>
							<td>See <a href="#tunneling">Subdomain Tunneling</a></td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">permalinkId</a>
							</td>
							<td>string</td>
							<td>null</td>
							<td>See <a href="#permalinks">Permanent Links</a></td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">type</a>
							</td>
							<td>string</td>
							<td>"raw"</td>
							<td>Setter for the "Type" field. Possible values: raw, json-rpc, xml-rpc, soap11, soap12</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">httpMethod</a>
							</td>
							<td>string</td>
							<td>"post"</td>
							<td>Setter for the "HTTP Method" field. Possible values: post, get, put, delete, trace</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">auth</a>
							</td>
							<td>string</td>
							<td>"none"</td>
							<td>Setter for the "Auth" field. Possible values: none, basic</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">url</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the "URL" field</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">method</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the "Method" field (only shown if type != <code>"raw"</code>)</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">username</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the "Username" field (only shown if auth="basic")</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">password</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the "Password" field (only shown if auth="basic")</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">id</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the "Id" field (only shown if type="json-rpc")</td>
						</tr>
						<tr>
							<td class="optionName" title="Option Name" data-content="Enter Option Description Here">
								<a href="#">body</a>
							</td>
							<td>string</td>
							<td>""</td>
							<td>Setter for the request body (only shown if httpMethod = "post" or "put")</td>
						</tr>
					</table>

					<h3>Autocompletion</h3>
					<p class="well">
						When autocomplete is enabled via "autocompleteSource", the "Method" field will be turned into a find-as-you-type search box,
						and a small arrow will be added to allowing viewing all methods.
						<br/><br/>
						The "autocompleteSource" option accepts the same values as the <a href="http://jqueryui.com/autocomplete">JQuery UI "source" option</a>, with one additional feature: if given a string representing a URL to a WSDL file, it will be immediately requested and parsed, and the autocomplete list will contain the name attributes of each &lt;wsdl:operation&gt; tag contained in it. The example at the top of this page uses this feature with the WSDL file at <a href="http://api.explorpc.org/soap?wsdl">http://api.explorpc.org/soap?wsdl</a>.
					</p>

					<h3>Subdomain Tunneling</h3>
					<div class="well">
					If your API endpoint is on a different subdomain as your documentation site, ExploRPC will let you circumvent the same-origin policy by tunneling requests through an iframe. Enabling tunneling is a 3 step processs:
					<ol>
						<li>
							On the documentation site, add a line of Javascript to set <code>document.domain</code> to a domain suffix shared by both it and the API endpoint. For example, the demo at the top of this page communicates with "api.explorpc.org", which shares the "explorpc.org" suffix:
							<pre class="prettyprint">document.domain = 'explorpc.org';</pre>
						</li>
						<li>
							Upload a small HTML file to the subdomain that does 2 things: include jQuery and set <code>document.domain</code> to the suffix as above. For example:
							<pre class="prettyprint">
&lt;html&gt;
	&lt;head&gt;
		&lt;script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"&gt;&lt;/script&gt;
		&lt;script&gt;document.domain = 'explorpc.org';&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;&lt;/body&gt;
&lt;/html&gt;</pre>
						</li>
						<li>
							When initializing exploRPC, set the <code>subdomainTunneling</code> option to <code>true</code>
					</ol>
					</div>

					<h3>Permanent Links</h3>
					<p class="well">
					ExploRPC has the ability to serialize the current request and response into a JSON string, and to deserialize such a string to restore all fields to the state represented therein. The <code>permalinkHandler</code> option is what facilitates  This function should send the string to an external server (e.g. a pastebin) for storage, and return the link that should be shown to the user. ExploRPC will also call the <code>permalinkHandler</code> when the <code>permalinkId</code> option is set, and .
						If set, the permalinkHandler will be called to retrieve the serialized request/response corresponding to the given value, and ExploRPC will be initialized to the state represented by the serialization. This option is write-only.
					</p>

					<h2>Special thanks</h2>
					<p class="well note">
						Enter CSS Instructions Here
					</p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
